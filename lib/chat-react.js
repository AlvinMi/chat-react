module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(6)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocale=t.register=void 0;var o="second_minute_hour_day_week_month_year".split("_"),r="秒_分钟_小时_天_周_个月_年".split("_"),a=function(e,t){if(0===t)return["just now","right now"];var n=o[parseInt(t/2)];return e>1&&(n+="s"),["".concat(e," ").concat(n," ago"),"in ".concat(e," ").concat(n)]},i={en_US:a,zh_CN:function(e,t){if(0===t)return["刚刚","片刻后"];var n=r[parseInt(t/2)];return["".concat(e," ").concat(n,"前"),"".concat(e," ").concat(n,"后")]}};t.register=function(e,t){i[e]=t};t.getLocale=function(e){return i[e]||a}},function(e,t,n){var o=n(8);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextInterval=t.diffSec=t.formatDiff=t.toDate=t.toInt=void 0;var o=[60,60,24,7,365/7/12,12],r=function(e){return parseInt(e)};t.toInt=r;var a=function(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(r(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e))};t.toDate=a;t.formatDiff=function(e,t){for(var n=0,a=e<0?1:0,i=e=Math.abs(e);e>=o[n]&&n<o.length;n++)e/=o[n];return(e=r(e))>(0==(n*=2)?9:1)&&(n+=1),t(e,n,i)[a].replace("%s",e)};t.diffSec=function(e,t){return((t=t?a(t):new Date)-a(e))/1e3};t.nextInterval=function(e){for(var t=1,n=0,r=Math.abs(e);e>=o[n]&&n<o.length;n++)e/=o[n],t*=o[n];return r=(r%=t)?t-r:t,Math.ceil(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"format",{enumerable:!0,get:function(){return o.format}}),Object.defineProperty(t,"render",{enumerable:!0,get:function(){return r.render}}),Object.defineProperty(t,"cancel",{enumerable:!0,get:function(){return r.cancel}}),Object.defineProperty(t,"register",{enumerable:!0,get:function(){return a.register}}),t.version=void 0;var o=n(12),r=n(13),a=n(2);t.version="4.0.0-beta.2"},function(e,t,n){"use strict";var o=n(7);function r(){}e.exports=function(){function e(e,t,n,r,a,i){if(i!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(e.exports=n(9)(!1)).push([e.i,".chat-input-wrapper{\n  position: fixed;\n  z-index: 1200;\n  background-color: #fff;\n  width: 100%;\n  left: 0;\n  bottom: 0;\n  padding: 10px 45px;\n}\n.chat-input-box {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n.chat-input{\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.chat-input input{\n  width: 100%;\n  border: 0;\n  outline: 0;\n  -webkit-appearance: none;\n  background-color: transparent;\n  font-size: inherit;\n  color: inherit;\n}\n.emoji-box{\n  position: absolute;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  bottom: 0px;\n}\n.emoji-box .emoji-icon{\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  left: 10px;\n  bottom: 12px;\n}\n.emoji-box .emoji-icon .emoji-icon-img{\n  width: 100%;\n}\n.submit-box{\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  right: 10px;\n  bottom: 12px;\n  background: linear-gradient(120deg,#3bacee,#32c4d3);\n  box-shadow: -3px 2px 2px rgba(18,111,112,.2);\n  border-radius: 50%;\n}\n.submit-box .submit-icon-img{\n  width: 80%;\n  margin: 0 auto;\n  display: block;\n  margin-top: 4px;\n}\n.emoji-box .emoji-picker{\n  width: 100%;\n  height: 210px;\n  bottom: 62px;\n  z-index: 2500;\n  position: absolute;\n  max-height: 260px;\n  box-shadow: 0 1px 15px 1px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  border-radius: 6px;\n  display: none;\n}\n.emoji-box .emoji-picker .emoji-picker-arrow{\n  position: absolute;\n  bottom: -8px;\n  left: 17px;\n  width: 0;\n  height: 0;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-top: 8px solid white;\n}\n.emoji-popup-animate-show{\n  animation-name: emoji-fadeInUp;\n  animation-duration: 0.4s;\n  animation-fill-mode: both;\n  display: block !important;\n}\n.chat-textarea-box{\n  width: 100%;\n  height: 100%;\n  position: relative;\n  min-height: 100%;\n  border-radius: 5px;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n.chat-input-wrapper{\n  box-sizing: border-box;\n}\n.chat-input-wrapper .chat-input{\n  width: 100%;\n  margin: 0px;\n  padding: 0px 10px;\n  color: #333;\n  position: absolute;\n  z-index: 9;\n  height: 100%;\n  line-height: 32px;\n  font-size: 18px;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  background-color: #edf5f8;\n  border: none;\n  resize: none;\n  outline: none;\n  box-sizing: border-box;\n}\n.textareaPlaceholder{\n  white-space:normal;\n  word-break:break-all;\n  overflow:hidden;\n  visibility: hidden;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  color: #333;\n  line-height: 32px;\n  font-size: 18px;\n  max-height: 200px;\n  padding: 0px 10px;\n  box-sizing: border-box;\n  margin: 0px;\n}\n.emoji-picker-content img{\n  width: 100%;\n}\n.emoji-picker-content .emoji-item{\n  float: left;\n  width: 36px;\n  height: 40px;\n  padding: 4px;\n  font-size: 31px;\n  margin: 0px 2px;\n  line-height: 31px;\n  cursor: pointer;\n}\n.emoji-picker-content {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: flex-start;\n  height: 100%;\n  overflow: auto;\n}\n#emoji-picker-content-warpper{\n  padding: 5px 4px 10px 4px;\n}\n@keyframes emoji-fadeInUp {\n  from {\n    opacity: .2;\n    transform: translate3d(0, 8%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: none;\n  }\n}\n.popup-animate-hide2{\n  animation-name: fadeOutDown;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  display: none;\n}\n@keyframes fadeOutDown {\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0.8;\n    transform: translate3d(0, 100%, 0);\n  }\n}\n\n\n\n/*messages*/\n.message-item{\n  padding: 5px 0px;\n  position: relative;\n  overflow: hidden;\n}\n.message-item .message-item-content{\n  position: relative;\n  background-color: #fff;\n  display: inline-block;\n  padding: 10px;\n  border-radius: 3px;\n  max-width: 60%;\n  line-height: 24px;\n  font-size: 18px;\n  word-break: break-all;\n  min-height: 36px;\n  margin: 0px;\n  box-sizing: border-box;\n}\n.message-item .message-item-content:before{\n  content: '';\n  display: block;\n  position: absolute;\n  top: 22px;\n  width: 0;\n  height: 0;\n}\n.message-item .message-item-avatar {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  position: absolute;\n}\n.message-item-other{\n  padding-left: 50px;\n}\n.message-item-other .message-item-avatar{\n  left: 5px;\n}\n.message-item-other .message-item-content{\n  float: left;\n  background-color: #d7e4f4;\n  position: relative;\n}\n.message-item-own .message-item-content .error-status{\n  width: 32px;\n  position: absolute;\n  left: -38px;\n  top: 50%;\n  margin-top: -16px;\n  padding: 4px;\n}\n.message-item-own .message-item-content .error-status img{\n  width: 100%;\n  display: block;\n}\n.message-item-own{\n  padding-right: 50px;\n}\n.message-item-own .message-item-avatar{\n  right: 5px;\n}\n.message-item-own .message-item-content{\n  float: right;\n}\n.message-item-own .message-item-content:before {\n  right: -10px;\n  border-right: 12px solid transparent;\n  border-bottom: 12px solid white;\n}\n.message-item-other .message-item-content:before {\n  left: -10px;\n  border-left: 12px solid transparent;\n  border-bottom: 12px solid #d7e4f4;\n}\n.message-content-emoji{\n  width: 16px;\n  display: inline-block;\n  position: relative;\n  top: 1px;\n  margin: 0px 1px;\n}\n.massage-container {\n  position: relative;\n  background-color: #f0f2f5;\n  box-sizing: border-box;\n}\n.message-list-wrapper {\n  overflow: auto;\n  height: 100%;\n}\n.message-list-wrapper .time-info{\n  margin: 10px 0px;\n  text-align: center;\n}\n.message-list-wrapper .time-info span{\n  background-color: rgba(0,0,0,.12);\n  min-width: 90px;\n  line-height: 14px;\n  display: inline-block;\n  margin: 0 auto;\n  font-size: 13px;\n  color: #fff;\n  text-align: center;\n  padding: 4px 8px;\n  border-radius: 4px;\n}\n.noData-tips{\n  text-align: center;\n  color: #7a7a7a;\n  font-size: 13px;\n  padding: 10px 0px;\n}\n.unread-count-tips:before{\n  display: block;\n  content: '';\n  position: absolute;\n  bottom: -4px;\n  left: 50%;\n  width: 0;\n  height: 0;\n  margin-left: -8px;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-top: 8px solid #00a2ae;\n}\n.unread-count-tips{\n  background-color: #00a2ae;\n  color: #fff;\n  padding: 5px 10px;\n  position: absolute;\n  bottom: 62px;\n  right: 25px;\n  border-radius: 14px;\n  font-size: 14px;\n}\n/*loading animate*/\n.message-loading{\n\n}\n.loadEffect{\n  width: 100px;\n  height: 100px;\n  position: relative;\n  margin: 0 auto;\n  transform: scale(0.2, 0.2);\n  margin-top: -30px !important;\n  margin-bottom: -40px !important;\n}\n.loadEffect span{\n  display: inline-block;\n  width: 30px;\n  height: 10px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  background: #0a0a0a;\n  position: absolute;\n  -webkit-animation: load-animation 1.04s ease infinite;\n}\n@-webkit-keyframes load-animation{\n  0%{\n    opacity: 1;\n  }\n  100%{\n    opacity: 0.2;\n  }\n}\n.loadEffect span:nth-child(1){\n  left: 0;\n  top: 50%;\n  margin-top:-5px;\n  -webkit-animation-delay:0.13s;\n}\n.loadEffect span:nth-child(2){\n  left: 10px;\n  top: 20px;\n  -webkit-transform: rotate(45deg);\n  -webkit-animation-delay:0.26s;\n}\n.loadEffect span:nth-child(3){\n  left: 50%;\n  top: 10px;\n  margin-left: -15px;\n  -webkit-transform: rotate(90deg);\n  -webkit-animation-delay:0.39s;\n}\n.loadEffect span:nth-child(4){\n  top: 20px;\n  right:10px;\n  -webkit-transform: rotate(135deg);\n  -webkit-animation-delay:0.52s;\n}\n.loadEffect span:nth-child(5){\n  right: 0;\n  top: 50%;\n  margin-top:-5px;\n  -webkit-transform: rotate(180deg);\n  -webkit-animation-delay:0.65s;\n}\n.loadEffect span:nth-child(6){\n  right: 10px;\n  bottom:20px;\n  -webkit-transform: rotate(225deg);\n  -webkit-animation-delay:0.78s;\n}\n.loadEffect span:nth-child(7){\n  bottom: 10px;\n  left: 50%;\n  margin-left: -15px;\n  -webkit-transform: rotate(270deg);\n  -webkit-animation-delay:0.91s;\n}\n.loadEffect span:nth-child(8){\n  bottom: 20px;\n  left: 10px;\n  -webkit-transform: rotate(315deg);\n  -webkit-animation-delay:1.04s;\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(i=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(a).concat([r]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(r=0;r<e.length;r++){var i=e[r];null!=i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){var o,r,a={},i=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),c=null,l=0,p=[],u=n(11);function f(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=a[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(x(o.parts[i],t))}else{var s=[];for(i=0;i<o.parts.length;i++)s.push(x(o.parts[i],t));a[o.id]={id:o.id,refs:1,parts:s}}}}function m(e,t){for(var n=[],o={},r=0;r<e.length;r++){var a=e[r],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};o[i]?o[i].parts.push(s):n.push(o[i]={id:i,parts:[s]})}return n}function d(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=p[p.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),p.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertAt.before,n);n.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function b(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return n.nc}();o&&(e.attrs.nonce=o)}return h(t,e.attrs),d(e,t),t}function h(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function x(e,t){var n,o,r,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var i=l++;n=c||(c=b(t)),o=w.bind(null,n,i,!1),r=w.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",h(t,e.attrs),d(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(o=u(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){g(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t);return f(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var i=n[r];(s=a[i.id]).refs--,o.push(s)}e&&f(m(e,t),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete a[s.id]}}}};var v,y=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function w(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:o+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.format=void 0;var o=n(4),r=n(2);t.format=function(e,t,n){var a=(0,o.diffSec)(e,n);return(0,o.formatDiff)(a,(0,r.getLocale)(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=t.cancel=void 0;var o=n(14),r=n(4),a=n(2),i={},s=function(e){clearTimeout(e),delete i[e]},c=function e(t,n,a,c){s((0,o.getTimerId)(t));var l=(0,r.diffSec)(n,c);t.innerHTML=(0,r.formatDiff)(l,a);var p=setTimeout(function(){e(t,n,a,c)},1e3*(0,r.nextInterval)(l),2147483647);i[p]=0,(0,o.saveTimerId)(t,p)};t.cancel=function(e){if(e)s((0,o.getTimerId)(e));else for(var t in i)s(t)};t.render=function(e,t,n){var r;void 0===e.length&&(e=[e]);for(var i=0;i<e.length;i++){r=e[i];var s=(0,o.getDateAttribute)(r),l=(0,a.getLocale)(t);c(r,s,l,n)}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimerId=t.saveTimerId=t.getDateAttribute=void 0;var o=function(e,t){return e.getAttribute?e.getAttribute(t):e.attr?e.attr(t):void 0};t.getDateAttribute=function(e){return o(e,"datetime")};t.saveTimerId=function(e,t){return e.setAttribute?e.setAttribute("timeago-tid",t):e.attr?e.attr("timeago-tid",t):void 0};t.getTimerId=function(e){return o(e,"timeago-tid")}},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(1),i=n.n(a),s="data:image/png;base64,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",c=[{text:"smile",content:"😀"},{text:"laugh",content:"😂"},{text:"blush",content:"😊"},{text:"wink",content:"😉"},{text:"heart_eyes",content:"😍"},{text:"kissing_heart",content:"😘"},{text:"kissing_closed_eyes",content:"😚"},{text:"stuck_out_tongue_winking_eye",content:"😜"},{text:"flushed",content:"😳"},{text:"grin",content:"😁"},{text:"pensive",content:"😔"},{text:"relieved",content:"😌"},{text:"unamused",content:"😒"},{text:"cry",content:"😢"},{text:"sob",content:"😭"},{text:"sleepy",content:"😪"},{text:"disappointed_relieved",content:"😥"},{text:"cold_sweat",content:"😰"},{text:"sweat_smile",content:"😓"},{text:"scream",content:"😱"},{text:"angry",content:"😠"},{text:"rage",content:"😡"},{text:"mask",content:"😷"},{text:"face_with_sunglasses",content:"😎"},{text:"sleeping",content:"😴"},{text:"smirk",content:"😏"},{text:"face_with_rolling_eyes",content:"🙄"},{text:"thinking_face",content:"🤔"},{text:"zipper-mouth_face",content:"🤐"},{text:"face_with_head-bandage",content:"🤕"},{text:"slightly_smiling_face",content:"🙂"},{text:"upside-down_face",content:"🙃"},{text:"nerd_face",content:"🤓"},{text:"hugging_face",content:"🤗"},{text:"man",content:"👨"},{text:"woman",content:"👩"},{text:"thumbs_up",content:"👍"},{text:"thumbs_down",content:"👎"},{text:"ok_hand",content:"👌"},{text:"wave",content:"👋"},{text:"pray",content:"🙏"},{text:"clap",content:"👏"},{text:"muscle",content:"💪"},{text:"dog",content:"🐶"},{text:"wolf",content:"🐺"},{text:"pig",content:"🐷"},{text:"monkey_face",content:"🐵"},{text:"see_no_evil",content:"🙈"},{text:"hear_no_evil",content:"🙉"},{text:"speak_no_evil",content:"🙊"},{text:"hankey",content:"💩"},{text:"athletic_shoe",content:"👟"},{text:"crown",content:"👑"},{text:"kiss",content:"💋"}];n(3);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=this,r=(e=f(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==l(r)&&"function"!=typeof r?d(o):r,g(d(d(n)),"state",{visible:!1,textarea:""}),g(d(d(n)),"hidePopup",function(e){var t=e.target,o=t.className,r=t.id;["emoji-item","emoji-icon-img","emoji-item-content"].includes(o)||"emoji-picker-content-warpper"===r||n.setState({visible:!1})}),g(d(d(n)),"visiblePopup",function(e){e.stopPropagation();var t=n.state.visible;n.setState({visible:!t})}),g(d(d(n)),"selectEmoje",function(e,t){var o=e.text,r=n.state.textarea,a=n.props,i=a.emoji,s=void 0===i?[]:i,l=a.selectEmoje,u=a.textareaChange;if(t){var f=([].concat(p(c),p(s)).find(function(e){return e.text===o})||{}).content;l&&l(f);var m="".concat(r).concat(f);return u&&u(m),n.setState({visible:!0,textarea:m})}l&&l("[".concat(o,"]"));var d="".concat(r,"[").concat(o,"]");u&&u(d),n.setState({visible:!0,textarea:d})}),g(d(d(n)),"submit",function(e){var t=n.props,o=t.userInfo,r=t.sendMessage,a={value:n.state.textarea,timestamp:(new Date).getTime(),userInfo:o};n.setState({textarea:""}),r&&r(a)}),g(d(d(n)),"keyPress",function(e){13===e.keyCode&&n.submit()}),g(d(d(n)),"inputFocus",function(){n.textareaInput.focus()}),g(d(d(n)),"textareaChange",function(e){var t=n.props.textareaChange;n.setState({textarea:e.target.value,visible:!1}),t&&t(e.target.value)}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.hidePopup,!0)}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.textarea,n=e.value,o=e.textareaChange;t!==n&&(o&&o(n),this.setState({textarea:n}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hidePopup,!0)}},{key:"render",value:function(){var e=this,t=this.state,n=t.visible,o=t.textarea,a=this.props,i=a.placeholder,s=a.customEmoticon,l=void 0===s?[]:s,u=a.emoji,f=a.value,m=a.className,d=void 0===m?"":m,g=!1!==u,b=Array.isArray(u)?[].concat(p(c),p(u)):c,h=f||o;return r.a.createElement("div",{className:"chat-input-wrapper ".concat(d)},r.a.createElement("div",{className:"emoji-box"},r.a.createElement("div",{id:"emoji-picker-content-warpper",onClick:function(e){return e.preventDefault()},className:"emoji-picker ".concat(n?"emoji-popup-animate-show":"popup-animate-hide")},r.a.createElement("div",{className:"emoji-picker-content"},l.map(function(t){return r.a.createElement("div",{key:t.text,className:"emoji-item",onClick:function(n){e.selectEmoje(t)}},r.a.createElement("img",{src:t.url,className:"emoji-item-content"}))}),g&&b.map(function(t){return r.a.createElement("div",{key:t.text,className:"emoji-item",onClick:function(n){e.selectEmoje(t,!0)}},t.content)})),r.a.createElement("div",{className:"emoji-picker-arrow"})),r.a.createElement("div",{className:"emoji-icon",onClick:this.visiblePopup},r.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAyVBMVEUAAAD+3Wn/4Gb//3T/32r+3Wn+3mn/3mn+3mn+3Wr+3mr+3Wn+3mn+3mn+3mn+3mn/3mn/32n/4Wn/6GX/32r/3Wn+3mn+3mr+3Wr93mn/3mj/32r/32n/4Gr/5Gn+3Wn93mr93mn/32n+3mn93Wn93Wn/3mn/32r/3mn/32n/4Gj+3mn+3mn+3mriiyLvtEb+22fsqDrqozfzvUz82GT2xlX2xFLyuUnmlyz0wVDurD7poDT4zFrlkyjwsUH60mD4zlvwtkbonTCm/432AAAALXRSTlMA4ggDdeu7cfXy6NvMw7SqamItCoBL78euh1xOJR4S05SLQdmml3pXVEch3rCYPQfsAAACOUlEQVRYw6XX53ajMBAF4EsxuPcSx7HT6+4lYNzt1Pd/qD3e2EF0Yb6/OjOM0BkNIM7FU7derRTIQqVa7z5dIJOL6zIDykP5HK0BIw1akNAxFcZSzA5SmCUm6jeRZFxjqtoYcTSzSAnFZlx8nZIaGiJ0DEozVIRoNWZghGtoMJMGAq6Z0RA+I2b2DMGkz8zKE3gMnuBM6B6e5BwHaoEnKaj4ofNEuldArhJMCubv0/e1zUj2+n36OqfAxJ5Cz8ba29qR8d/W3oYeBQDa9LxaP6aMMD0sftHTBjCkZ2Ud2Ayxj2sreob+HcysozlD5tbRjL8qwJh5EnCMEZO3EM7+RkEP3ainfDHC5rDoUvCAM4qW1p7DKLPviBM6Q5U+6+l2u7QZzXWmmwV9qqgwlwoKzKUM5lNEibmU8r6DW9SYi4EGc7nDFXO5xgNzMfFMgfsqwaXgBlqRHseSsKGnr8HXTWtLwiIwpFu+npcwCwynCbPtwaFgAsDX0Dsr1Sc9A+w1KdhaKbYUNLGnKfR8WCk+6FE0/HdOgWslciPn+214AIWFL8RLHPUosJ2EeNt/pf+qUeosHYpq8Lz0w5d72JKi0gsEN/TZrayQ1Sd9buCj0899C4Sv6acj4I4BC+c3x5uzSP3UhVplyG7hLpfuYseQgYoQ9S+l1VVE6VJSFzFGcr88PcRqK0yltJGgo5eZqKx3kExtJlTxp6lCQstgJKMFWZ3evUIf5X6kIpv2o35VvyyVLutX+mMbcf4BN4Qzx7bcRi0AAAAASUVORK5CYII=",className:"emoji-icon-img"}))),r.a.createElement("div",{className:"chat-textarea-box",style:{height:o?"auto":32}},r.a.createElement("p",{className:"textareaPlaceholder"},o),r.a.createElement("textarea",{placeholder:i,type:"text",className:"chat-input",value:h,onChange:this.textareaChange,onKeyUp:this.keyPress,ref:function(t){e.textareaInput=t}})),r.a.createElement("div",{className:"submit-box",onClick:this.submit},r.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEs0lEQVR4Xu2aS+imYxjGf5ezEcYhIRHlfBqMw4yRKZnSrKakoZFZEAuxECWHxUwixgIbVkwOGZKRhIVTYWFjwYYFC8qCRJTkcOuq59P7vfO9x+/9TvO9d/0X////OV3Xcz33c9/384olNy05fnoCegUsOQP9EVhyAfROsD8C/RFYcgb6I7AsAoiIfYHzgBWSPhng3msVEBErgEuBdelnLfAbcL6kH/c6AiLiGODyDOCLAO/6wP4yIZI+z6p+YRUQEadlwHqXT80A+xfYJ3e8t0ramT/yC0FAROwHXJABfCVw1Aj/5V3+FDgdODbz/6ck3THK380lARFxKHBZBvAa4OASh23gLwB/ADcDB2Tafgysl/TP3BIQEcfl5LxqhIRHrd/AnwNeBx4Fzsk1+g5YJennIvKmroCI8Jxn5ACf0vA6HgB/BLgJuC/n8Dzcn8BqSV+WjT1xAiLCcrRHHlxHVwBHNASc9eTe8W3A0cBLwJkFY22WtKtqns4JiIjDAd+5A8A+y9kzWbWmMqkb+E+JgLtKjskOSXfXmWhsAiLixJycfQ7HHjctfiD1bZK+jwiT+SJQdmTeAzZI8lVYaY0WGhG+W8/OAF4PHF85S/MGeeCHAA8Dt1eQa6d3rqRf605ZSkBEHARcnNvhw+oO3qLdEHD3jwj7DJ/1EyrG8xV4SZXTKw2EIuLIXDhp8Pu3ANK0i4E/C2y31BNw+5Id6V6vM94mSbvrNMy2GVJARFwDvDEl0F7HHsAT+A3pfnd8UMceknR/nYalCkiTXwW8WRF5tZkr26cIuBX4BLClwQRvAxslRYM+/zcd6QOSt30X6Pq8jwSeiL8WeLogxi/C9k1Kb39vA959Cp1gRLh48BGwsu3gmX5lwB3QOLjZ2HAeg3ak91XDfkPNq26Bs4APAOfabawQeNr1G5Pkm0aGlrtlb/mPZZVxQEScDDijanLfVwG3c/Ou29m1sQclbW/TsdIJjho0RXsfAiajzEqBp12/BXgccMrbxnZL2tSm46g+lQoYdEolJyshW3kZ/LsO8JOA5wEHNm3t65TeOujpxGoTkHbPVZj3U3XVf6oD3OGzQ1inrmVFjSpADm8vlGTP35k1IiCR4KvxHeCLbORWcHSctDglXT3mip3YOMFxotOpNSagzuypBu901enrgXX6VLS5R9JjHYyzxxCdExARLlA4eXFZqwvr1OnlF9QZARHhpOle4AHAVdwuzOUsZ3idOb2JEBARvhmcRBWVp9qQ4UKmC5rO8SdmnSggIm5NcXxXC3UJ26VsX7sTtXkl4E5JT04UeRp8HgnYJWnzNMB7jnkjwA+XayS5pj8VmycC/GTtp+sfpoJ8Skfgl5r1BIfU6yR9Nk3wkz4CbwHXA68BV1cAu03SM9MGP0kC/Fh5naS/U4Dk34sqPjslbZ0F+EkR8LKLmtnn6PS+/wqQz+MteUvfR2Am1rUTNPgbRlVoU4L0aoYEO7uh73VmwUCXBPhB1J+hFJanEwn+kMFK8HU39L3OIhPgvP/bOrX59H3A2uynarMAPpizEwXMEsC4c/cEjMvgovfvFbDoOzju+nsFjMvgovfvFbDoOzju+nsFjMvgovdfegX8B5KPcFBaEd7yAAAAAElFTkSuQmCC",className:"submit-icon-img"})))}}])&&u(n.prototype,a),i&&u(n,i),t}(),h=n(5);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j,O,C,S,T,P,D=/\[[\u4e00-\u9fa5-\w-\d]+\]/g,M=!0,R=!0,I=!1,z={height:500,width:"100%",position:"relative"},N=~(navigator.language||navigator.browserLanguage||"").toLowerCase().indexOf("zh"),B=(P=null,function(e,t,n){var o=(new Date).getTime();(o-P>n||!P)&&(e(t),P=o)}),L=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return o=this,a=(e=w(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==x(a)&&"function"!=typeof a?E(o):a,k(E(E(n)),"state",{betweenTime:6e4,maxTimeago:36e5,unreadCount:0}),k(E(E(n)),"onScroll",function(e){var t=e.target,o=n.props,r=o.loading,a=o.scrolltoupper,i=o.noData,s=o.onScroll,c=n.state.unreadCount;0!==t.scrollTop||r||i||a&&a(),s&&B(s,t.scrollTop,100),t.scrollHeight-t.clientHeight-t.scrollTop<=2?(R=!0,0!==c&&n.setState({unreadCount:0})):R=!1}),k(E(E(n)),"setScrollTop",function(e){n.refs["message-list-wrapper"].scrollTo(0,e)}),k(E(E(n)),"handleRead",function(){var e=n.refs["message-list-wrapper"],t=n.props.unreadCountChange;e.scrollTo(0,e.scrollHeight),n.setState({unreadCount:0}),t&&t(0)}),k(E(E(n)),"userAvatarClick",function(e){var t=n.props.avatarClick;t&&t(e)}),k(E(E(n)),"loaderContent",function(){return r.a.createElement("div",{className:"loadEffect"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))}),k(E(E(n)),"renderMessageList",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n.props,o=t.timeBetween,a=void 0===o?5:o,i=t.timeagoMax,c=void 0===i?24:i,l=t.timeFormat;S=e.length;var p=n.props.userInfo,u=(p=void 0===p?{}:p).userId,f=(p.avatar,p.name,n.state),m=f.maxTimeago,d=f.betweenTime;m*=c,d*=a;var g=N?"zh_CN":"en_US",b=l||(N?"MM月dd hh:mm":"MM-dd hh:mm"),x=0;return e.map(function(t,o){var a=t.timestamp,i=t.value,c=t.userInfo,l=void 0===c?{}:c,p=t.error,f=l.avatar,y=l.userId,w=(l.name,i.split(D)),A=i.match(D),E=(i.search(D),"");a-x>d&&(E=(new Date).getTime()-a<m?r.a.createElement("p",{className:"time-info"},r.a.createElement("span",null,Object(h.format)(a,g))):r.a.createElement("p",{className:"time-info"},r.a.createElement("span",null,function(e,t){var n={"M+":(e=new Date(e)).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t}(a,b)))),x=a;var k=[];w.forEach(function(e){var t=((A||[]).shift()||"").replace(/(\[|\])+/g,"");e&&k.push({type:"text",value:e}),t&&k.push({type:"emoji",value:t})});var S=k.map(function(e,t){var n=e||{},o=n.type,a=n.value;switch(o){case"text":return a;case"emoji":var i=(a&&emojis.find(function(e){return e.text===a})||{}).url;return i?r.a.createElement("img",{key:t,src:i,className:"message-content-emoji"}):"[".concat(a,"]");default:return e}}),T={};if(o)C===a?(T={ref:C},j=C,O=e[0].timestamp,C=""):I||e.length!==o+1||(T={ref:a},j=a);else if(O)if(O!==a){var P=e.findIndex(function(e){return e.timestamp===O})-1;C=(e[P]||{}).timestamp,I=!0}else I=!1;else O=a;var M=y.toString()===u.toString();return r.a.createElement("div",v({key:a},T),E,r.a.createElement("div",{className:"message-item ".concat(M?"message-item-own":"message-item-other")},r.a.createElement("div",{onClick:function(){return n.userAvatarClick(l)}},r.a.createElement("img",{className:"message-item-avatar",src:f})),r.a.createElement("p",{className:"message-item-content"},S,M&&p&&r.a.createElement("span",{className:"error-status"},r.a.createElement("img",{src:s})))))})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,o["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.refs["message-list-wrapper"].addEventListener("scroll",this.onScroll)}},{key:"componentWillReceiveProps",value:function(e){var t=e.dataSource,n=void 0===t?[]:t,o=e.timestamp,r=e.unreadCountChange;if(this.state.randerTimestamp!==o){var a=(n[0]||{}).timestamp;if(T!==a)return R=!0,T=a,this.setState({randerTimestamp:o});var i=(n[n.length-1]||{}).userInfo,s=(i=void 0===i?{}:i).userId,c=e.userInfo;if(s===(c=void 0===c?{}:c).userId)return R=!0,this.setState({randerTimestamp:o});if(!R){var l=this.state.unreadCount;l+=n.length-S,r&&r(l),this.setState({unreadCount:l,randerTimestamp:o})}}}},{key:"shouldComponentUpdate",value:function(e,t){var n=e.dataSource,o=e.loading,r=e.timestamp,a=this.props,i=(a.dataSource,a.loading),s=a.timestamp,c=this.state.unreadCount,l=t.unreadCount,p=n.length!==S;return M=p,s!==r||(i!==o||c!==l)}},{key:"componentDidUpdate",value:function(){var e=(this.refs[j]||{}).offsetTop;if(M&&e&&R){M=!1;var t=I?e-50:e;I=!1,this.refs["message-list-wrapper"].scrollTo(0,t)}}},{key:"componentWillUnmount",value:function(){this.refs["message-list-wrapper"].removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this.props,t=e.dataSource,n=void 0===t?[]:t,o=e.loading,a=void 0!==o&&o,i=e.loader,s=e.noData,c=e.noDataEle,l=e.className,p=void 0===l?"":l,u=e.style,f=void 0===u?z:u,m=this.state.unreadCount,d=c||r.a.createElement("p",{className:"noData-tips"},N?"没有更多数据了":"no more data");return r.a.createElement("div",{className:"massage-container ".concat(p),style:f},r.a.createElement("div",{className:"message-list-wrapper",ref:"message-list-wrapper"},!s&&a&&r.a.createElement("div",{className:"message-loading"},i||this.loaderContent()),s&&d,this.renderMessageList(n)),!!m&&r.a.createElement("div",{className:"unread-count-tips",onClick:this.handleRead},m))}}])&&y(n.prototype,a),i&&y(n,i),t}();function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}k(L,"propTypes",{userInfo:i.a.object,dataSource:i.a.array,scrolltoupper:i.a.func,avatarClick:i.a.func,unreadCountChange:i.a.func,onScroll:i.a.func,timeFormat:i.a.string,timestamp:i.a.number,timeBetween:i.a.number,timeagoMax:i.a.number,loading:i.a.bool,loader:i.a.node,noData:i.a.bool,noDataEle:i.a.node}),n.d(t,"default",function(){return V});var q,J,G,V=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),H(this,F(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,r.a.Component),n=t,(o=[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement(L,null))}}])&&_(n.prototype,o),a&&_(n,a),t}();q=V,J="propTypes",G={userInfo:PropTypes.object,value:PropTypes.string,placeholder:PropTypes.string,className:PropTypes.string,textareaChange:PropTypes.func,sendMessage:PropTypes.func,selectEmoje:PropTypes.func,customEmoticon:PropTypes.array,emoji:PropTypes.any},J in q?Object.defineProperty(q,J,{value:G,enumerable:!0,configurable:!0,writable:!0}):q[J]=G}]);